<!DOCTYPE html>
<meta charset="UTF-8">
<title>Index of /</title>
<meta name="referrer" content="no-referrer">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/devicon/2.16.0/devicon.min.css" integrity="sha512-BlFCHJWngPEHme4TwlEob6dPLfoNaQBTTISPwr4344nxR353w2vgGZ7GiSadbbeR20cJeeM0u1I2lAZuIZ1aOQ==" crossorigin="anonymous">
<style>
:root { color-scheme: light dark; }
[class^=devicon-], [class*=" devicon-"] { text-decoration: none; }
</style>
<script type="importmap">
{
  "imports": {
    "vue": "https://cdnjs.cloudflare.com/ajax/libs/vue/3.5.13/vue.esm-browser.prod.min.js"
  },
  "integrity": {
    "https://cdnjs.cloudflare.com/ajax/libs/vue/3.5.13/vue.esm-browser.prod.min.js": "sha512-uAd8ed9WXz2BRMGwkFbb1ysGRedDfzE9cRqI1FscRYxnps82YWOwY7mw+a5xiDRawy6dJ+YxcJq6s4bQvU4WNw=="
  }
}
</script>
<script type="module" async>
function* parseLinks(str) {
  let ret, propertyName;
  for (const match of str.matchAll(/<([^>]*)|; *([^ =]*)|= *"((?:[^"\\]|\\.)*)"|= *([^,;]*)/g)) {
    const [g0, g1, g2, g3, g4] = match;
    switch (g0[0]) {
    case '<':
      if (ret) yield ret;
      ret = {value: g1};
      break;
    case ';':
      propertyName = g2;
      break;
    case '=':
      ret[propertyName] = g4 ?? g3.replace(/\\(.)/g, "$1");
      break;
    }
  }
  if (ret) yield ret;
}

function links(str) {
  if (str instanceof Response) str = str.headers;
  if (str instanceof Headers) str = str.get("Link");
  if (!str) return {};
  return Object.groupBy(parseLinks(str), x => x.rel);
}

async function* ghRequest(url) {
  const resp = await fetch(url);
  if (!resp.ok) throw new Error(`request to repos endpoint returned ${resp.status}`);
  for (const page of await resp.json()) yield page;
  const { next } = links(resp);
  if (next) yield* ghRequest(next[0].value);
}

async function toArrayPromise(gen) {
  const ret = [];
  for await (const i of gen) ret.push(i);
  return ret;
}

import { createApp } from "vue";

(async() => {
  const data = {
    location: location,
    repos: await toArrayPromise(ghRequest("https://api.github.com/users/sixcorners/repos")),
  };
  createApp({data() { return data; }}).mount("body");
})();
</script>

<h1>Index of /</h1>
<hr>
<table>
<template v-for="repo in repos" :key="repo.id">
<tr v-if="!repo.fork && !repo.archived && !repo.disabled && repo.homepage != location">
  <td><i :class="`devicon-${repo.language.toLowerCase()}-plain`"></i>
  <td><a :href="repo.html_url" class="devicon-github-plain"></a>
  <td><a :href="repo.has_pages ? `https://${repo.owner.login}.github.io/${repo.name}/` : null">{{repo.name}}/</a>
  <td>{{repo.created_at.replace(/T.*/, "")}}
  <td>{{repo.updated_at.replace(/T.*/, "")}}
  <td style="text-align: right">{{repo.size}}KB
  <td>{{repo.description}}
</template>
</table>
<hr>
